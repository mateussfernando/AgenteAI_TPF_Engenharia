{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///home/emiefi/github/AgenteAI_TPF_Engenharia/front-end/src/components/LoadingIndicator.js"],"sourcesContent":["export default function LoadingIndicator() {\n  return (\n    <div className=\"flex justify-start\">\n      <div className=\"bg-white/10 backdrop-blur-md text-gray-100 rounded-xl px-4 py-3 max-w-3xl\">\n        <div className=\"flex space-x-2\">\n          <div className=\"w-2 h-2 rounded-full bg-gray-300 animate-pulse\"></div>\n          <div className=\"w-2 h-2 rounded-full bg-gray-300 animate-pulse delay-150\"></div>\n          <div className=\"w-2 h-2 rounded-full bg-gray-300 animate-pulse delay-300\"></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKzB","debugId":null}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///home/emiefi/github/AgenteAI_TPF_Engenharia/front-end/src/components/MessageList.js"],"sourcesContent":["import { FiCode } from \"react-icons/fi\";\nimport LoadingIndicator from \"./LoadingIndicator\";\n\nexport default function MessageList({ conversa, carregando, mensagensRef }) {\n  function formatarResposta(texto) {\n    const codeBlocks = texto.split(/```(\\w*)?([\\s\\S]*?)```/g);\n    return codeBlocks.map(function (block, i) {\n      if (i % 3 === 2) {\n        const language = codeBlocks[i - 1] || \"\";\n        return (\n          <div key={i} className=\"my-2\">\n            <div className=\"bg-gray-100 text-gray-800 p-3 rounded-lg overflow-x-auto border border-gray-300\">\n              <div className=\"flex items-center text-xs text-gray-500 mb-1\">\n                <FiCode className=\"mr-1\" />\n                {language || \"code\"}\n              </div>\n              <pre className=\"whitespace-pre-wrap font-mono text-sm\">\n                {block.trim()}\n              </pre>\n            </div>\n          </div>\n        );\n      } else if (block) {\n        return (\n          <p key={i} className=\"whitespace-pre-wrap text-gray-800\">\n            {block}\n          </p>\n        );\n      }\n      return null;\n    });\n  }\n\n  return (\n    <div\n      ref={mensagensRef}\n      className=\"flex-1 p-4 overflow-y-auto space-y-6 max-w-4xl w-full mx-auto pb-32\"\n    >\n      {conversa.map((msg, index) => (\n        <div\n          key={index}\n          className={`flex ${\n            msg.tipo === \"pergunta\" ? \"justify-end\" : \"justify-start\"\n          }`}\n        >\n          <div\n            className={`max-w-3xl rounded-xl px-4 py-3 ${\n              msg.tipo === \"pergunta\"\n                ? \"bg-blue-600 text-white\"\n                : \"bg-white text-gray-800 shadow-sm border border-gray-200\"\n            }`}\n          >\n            {formatarResposta(msg.texto)}\n          </div>\n        </div>\n      ))}\n      {carregando && <LoadingIndicator />}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS,YAAY,EAAE,QAAQ,EAAE,UAAU,EAAE,YAAY,EAAE;IACxE,SAAS,iBAAiB,KAAK;QAC7B,MAAM,aAAa,MAAM,KAAK,CAAC;QAC/B,OAAO,WAAW,GAAG,CAAC,SAAU,KAAK,EAAE,CAAC;YACtC,IAAI,IAAI,MAAM,GAAG;gBACf,MAAM,WAAW,UAAU,CAAC,IAAI,EAAE,IAAI;gBACtC,qBACE,8OAAC;oBAAY,WAAU;8BACrB,cAAA,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,wJAAM;wCAAC,WAAU;;;;;;oCACjB,YAAY;;;;;;;0CAEf,8OAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI;;;;;;;;;;;;mBAPP;;;;;YAYd,OAAO,IAAI,OAAO;gBAChB,qBACE,8OAAC;oBAAU,WAAU;8BAClB;mBADK;;;;;YAIZ;YACA,OAAO;QACT;IACF;IAEA,qBACE,8OAAC;QACC,KAAK;QACL,WAAU;;YAET,SAAS,GAAG,CAAC,CAAC,KAAK,sBAClB,8OAAC;oBAEC,WAAW,CAAC,KAAK,EACf,IAAI,IAAI,KAAK,aAAa,gBAAgB,iBAC1C;8BAEF,cAAA,8OAAC;wBACC,WAAW,CAAC,+BAA+B,EACzC,IAAI,IAAI,KAAK,aACT,2BACA,2DACJ;kCAED,iBAAiB,IAAI,KAAK;;;;;;mBAZxB;;;;;YAgBR,4BAAc,8OAAC,gJAAgB;;;;;;;;;;;AAGtC","debugId":null}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///home/emiefi/github/AgenteAI_TPF_Engenharia/front-end/src/components/MessageInput.js"],"sourcesContent":["import { FiSend } from \"react-icons/fi\";\n\nexport default function MessageInput({\n  pergunta,\n  setPergunta,\n  carregando,\n  enviarPergunta,\n  handleKeyPress,\n}) {\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 p-4 bg-[#dbe6ff] border-t border-blue-300\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            value={pergunta}\n            onChange={(e) => setPergunta(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Mensagem para IA...\"\n            className=\"w-full p-4 pr-16 bg-white text-gray-800 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-gray-400\"\n            disabled={carregando}\n          />\n          <button\n            onClick={enviarPergunta}\n            disabled={carregando || !pergunta.trim()}\n            className=\"cursor-pointer absolute right-3 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400\"\n          >\n            <FiSend className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEe,SAAS,aAAa,EACnC,QAAQ,EACR,WAAW,EACX,UAAU,EACV,cAAc,EACd,cAAc,EACf;IACC,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,MAAK;wBACL,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,YAAY;wBACZ,aAAY;wBACZ,WAAU;wBACV,UAAU;;;;;;kCAEZ,8OAAC;wBACC,SAAS;wBACT,UAAU,cAAc,CAAC,SAAS,IAAI;wBACtC,WAAU;kCAEV,cAAA,8OAAC,wJAAM;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9B","debugId":null}},
    {"offset": {"line": 315, "column": 0}, "map": {"version":3,"sources":["file:///home/emiefi/github/AgenteAI_TPF_Engenharia/front-end/src/app/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport MessageList from \"../components/MessageList\";\nimport MessageInput from \"../components/MessageInput\";\n\nexport default function Home() {\n  const [pergunta, setPergunta] = useState(\"\");\n  const [conversa, setConversa] = useState([\n    {\n      tipo: \"resposta\",\n      texto:\n        \"Me forneça informações para que eu possa gerar um relatório para você. Preciso saber:\\n\\n\" +\n        \"* Qual o assunto do relatório?\\n* Qual o público-alvo?\\n* Quais são os dados relevantes?\\n* Qual o objetivo do relatório?\\n* Qual o formato desejado?\\n* Há algum template ou estrutura específica?\\n\\nQuanto mais detalhes, melhor e mais preciso será o relatório.\",\n    },\n  ]);\n  const [carregando, setCarregando] = useState(false);\n  const [arquivos, setArquivos] = useState(null);\n  const mensagensRef = useRef(null);\n\n  useEffect(() => {\n    if (mensagensRef.current) {\n      mensagensRef.current.scrollTop = mensagensRef.current.scrollHeight;\n    }\n  }, [conversa]);\n\n  async function enviarPergunta() {\n    if (!pergunta.trim()) return;\n\n    setCarregando(true);\n    setConversa((prev) => [...prev, { tipo: \"pergunta\", texto: pergunta }]);\n\n    try {\n      const resposta = await axios.post(\n        \"http://localhost:5000/gerar\",\n        { pergunta },\n        { headers: { \"Content-Type\": \"application/json\" } }\n      );\n\n      setConversa((prev) => [\n        ...prev,\n        { tipo: \"resposta\", texto: resposta.data.resposta },\n      ]);\n      setArquivos(resposta.data.arquivos || null);\n    } catch (erro) {\n      console.error(\"Erro:\", erro);\n      setConversa((prev) => [\n        ...prev,\n        {\n          tipo: \"resposta\",\n          texto: \"❌ Ocorreu um erro ao processar sua pergunta.\",\n        },\n      ]);\n    } finally {\n      setCarregando(false);\n      setPergunta(\"\");\n    }\n  }\n\n  function handleKeyPress(e) {\n    if (e.key === \"Enter\" && !carregando) {\n      e.preventDefault();\n      enviarPergunta();\n    }\n  }\n\n  return (\n    <div className=\"bg-[#e6f0ff] min-h-screen flex flex-col\">\n      <header className=\"bg-blue-600 p-4 flex justify-center shadow-md\">\n        <div className=\"max-w-4xl w-full text-center\">\n          <h1 className=\"text-xl font-semibold text-white\">\n            TPF Engenharia - AI\n          </h1>\n        </div>\n      </header>\n\n      <MessageList\n        conversa={conversa}\n        carregando={carregando}\n        mensagensRef={mensagensRef}\n      />\n\n      {arquivos && (\n        <div className=\"flex justify-center gap-4 p-4\">\n          {arquivos.docx && (\n            <a\n              href={`http://localhost:5000${arquivos.docx}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"bg-blue-600 px-4 py-2 rounded text-white hover:bg-blue-700\"\n            >\n              Baixar DOCX\n            </a>\n          )}\n          {arquivos.xlsx && (\n            <a\n              href={`http://localhost:5000${arquivos.xlsx}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"bg-blue-600 px-4 py-2 rounded text-white hover:bg-blue-700\"\n            >\n              Baixar XLSX\n            </a>\n          )}\n          {arquivos.pdf && (\n            <a\n              href={`http://localhost:5000${arquivos.pdf}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"bg-blue-600 px-4 py-2 rounded text-white hover:bg-blue-700\"\n            >\n              Baixar PDF\n            </a>\n          )}\n        </div>\n      )}\n\n      <MessageInput\n        pergunta={pergunta}\n        setPergunta={setPergunta}\n        carregando={carregando}\n        enviarPergunta={enviarPergunta}\n        handleKeyPress={handleKeyPress}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC;YACE,MAAM;YACN,OACE,8FACA;QACJ;KACD;IACD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,eAAe,IAAA,+MAAM,EAAC;IAE5B,IAAA,kNAAS,EAAC;QACR,IAAI,aAAa,OAAO,EAAE;YACxB,aAAa,OAAO,CAAC,SAAS,GAAG,aAAa,OAAO,CAAC,YAAY;QACpE;IACF,GAAG;QAAC;KAAS;IAEb,eAAe;QACb,IAAI,CAAC,SAAS,IAAI,IAAI;QAEtB,cAAc;QACd,YAAY,CAAC,OAAS;mBAAI;gBAAM;oBAAE,MAAM;oBAAY,OAAO;gBAAS;aAAE;QAEtE,IAAI;YACF,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,+BACA;gBAAE;YAAS,GACX;gBAAE,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;YAGpD,YAAY,CAAC,OAAS;uBACjB;oBACH;wBAAE,MAAM;wBAAY,OAAO,SAAS,IAAI,CAAC,QAAQ;oBAAC;iBACnD;YACD,YAAY,SAAS,IAAI,CAAC,QAAQ,IAAI;QACxC,EAAE,OAAO,MAAM;YACb,QAAQ,KAAK,CAAC,SAAS;YACvB,YAAY,CAAC,OAAS;uBACjB;oBACH;wBACE,MAAM;wBACN,OAAO;oBACT;iBACD;QACH,SAAU;YACR,cAAc;YACd,YAAY;QACd;IACF;IAEA,SAAS,eAAe,CAAC;QACvB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,YAAY;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAAmC;;;;;;;;;;;;;;;;0BAMrD,8OAAC,2IAAW;gBACV,UAAU;gBACV,YAAY;gBACZ,cAAc;;;;;;YAGf,0BACC,8OAAC;gBAAI,WAAU;;oBACZ,SAAS,IAAI,kBACZ,8OAAC;wBACC,MAAM,CAAC,qBAAqB,EAAE,SAAS,IAAI,EAAE;wBAC7C,QAAO;wBACP,KAAI;wBACJ,WAAU;kCACX;;;;;;oBAIF,SAAS,IAAI,kBACZ,8OAAC;wBACC,MAAM,CAAC,qBAAqB,EAAE,SAAS,IAAI,EAAE;wBAC7C,QAAO;wBACP,KAAI;wBACJ,WAAU;kCACX;;;;;;oBAIF,SAAS,GAAG,kBACX,8OAAC;wBACC,MAAM,CAAC,qBAAqB,EAAE,SAAS,GAAG,EAAE;wBAC5C,QAAO;wBACP,KAAI;wBACJ,WAAU;kCACX;;;;;;;;;;;;0BAOP,8OAAC,4IAAY;gBACX,UAAU;gBACV,aAAa;gBACb,YAAY;gBACZ,gBAAgB;gBAChB,gBAAgB;;;;;;;;;;;;AAIxB","debugId":null}}]
}